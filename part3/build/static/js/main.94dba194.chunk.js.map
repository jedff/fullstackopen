{"version":3,"sources":["Components/Filter.js","Components/Numbers.js","Components/PersonForm.js","Components/Notification.js","Services/Persons.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","newSearch","handleSearchChange","value","onChange","autoComplete","Numbers","persons","handleDelete","filter","p","name","toLowerCase","includes","map","number","id","onClick","PersonForm","addnewName","newName","newNumber","handlenNameChange","handlenNumberChange","onSubmit","type","Notification","classname","message","className","baseUrl","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","successMsg","setSuccessMsg","errorMsg","setErrorMsg","useEffect","axios","get","then","response","data","event","target","preventDefault","personId","newObj","newNameObject","some","e","window","confirm","person","find","n","updatedPerson","console","log","put","returnedPerson","catch","error","status","setTimeout","post","addNew","newPerson","dataset","delete","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.94dba194.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({newSearch, handleSearchChange}) => {\r\n    return (\r\n        <div>\r\n        filter shown with: <input value={newSearch} onChange={handleSearchChange} autoComplete='none' />\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from \"react\"\r\n\r\nconst Numbers = ({persons, newSearch, handleDelete}) => {\r\n  persons = persons.filter(p => p !== null)\r\n    return (\r\n        <div>\r\n        {persons\r\n        .filter(persons => persons.name.toLowerCase().includes(newSearch.toLowerCase()))\r\n        .map(persons => <p key={persons.name}>\r\n                          {persons.name}: {persons.number}\r\n                          <button data-id={persons.id} data-name={persons.name} onClick={handleDelete}>Delete</button></p>)\r\n        }\r\n        </div>\r\n    )\r\n  }\r\nexport default Numbers","import React from \"react\";\r\n\r\nconst PersonForm = ({addnewName,newName,newNumber,handlenNameChange,handlenNumberChange}) => {\r\n    \r\nreturn(\r\n    <div>\r\n    <form onSubmit={addnewName}>\r\n        <div>\r\n            name: <input value={newName} onChange={handlenNameChange} autoComplete='none'/><br />\r\n            number: <input value={newNumber} onChange={handlenNumberChange} autoComplete='none'/>\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n  </form>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Notification = ({ classname, message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={classname}>\r\n      {message}\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nexport const getAll = () => {\r\n  return axios.get(baseUrl)\r\n              .then(response => response.data)\r\n}\r\n\r\nexport const addNew = newObj => {\r\n  return axios.post(baseUrl, newObj)\r\n              .then(response => response.data)\r\n}\r\n\r\nexport const updatePerson = (personId, newObj) => {\r\n  return axios.put(`${baseUrl}/${personId}`, newObj)\r\n              .then(response => response.data)\r\n}\r\n\r\nexport const deletePerson = personId => {\r\n  return axios.delete(`${baseUrl}/${personId}`)\r\n              .then(response => response.data)\r\n}\r\n","import React, { useState , useEffect } from 'react';\nimport Filter from './Components/Filter';\nimport Numbers from './Components/Numbers'\nimport PersonForm from './Components/PersonForm';\nimport Notification from './Components/Notification';\nimport { getAll, addNew, deletePerson, updatePerson } from './Services/Persons';\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [successMsg, setSuccessMsg] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  useEffect(() => {\n    getAll()\n    .then(persons => {\n      setPersons(persons)\n    })\n  }, [])\n\n  const addnewName = (event) => {\n    event.preventDefault()\n    const newNameObject = {\n      name:  newName,\n      number: newNumber\n    }\n    if (persons.some(e => e.name === newNameObject.name))\n    {\n      if(window.confirm(`${newNameObject.name} is already added, replace the number?`))\n      {\n        const person = persons.find(n => n.name === newNameObject.name)\n        const updatedPerson = {...person, number: newNumber}\n        console.log(updatedPerson)\n        updatePerson(person.id, updatedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          console.log(error.response)\n          if(error.response.status === 404) {\n            setErrorMsg(`${person.name} was already deleted from the phonebook`)\n            setPersons(persons.filter(p => p.id !== person.id))\n          }else {\n            setErrorMsg(error.response.data.error)\n          }\n          setTimeout(() => {\n            setErrorMsg(null)\n          }, 5000)\n        })\n      }\n    }\n    else {\n      addNew(newNameObject)\n      .then(newPerson => {\n        setPersons([...persons, newPerson])\n        setNewName('')\n        setNewNumber('')\n        setSuccessMsg(`${newNameObject.name} was successfully added`);\n        setTimeout(() => {\n          setSuccessMsg(null)\n        }, 5000)\n      }).catch(error => {\n        setErrorMsg(error.response.data.error)\n        setTimeout(() => {\n          setErrorMsg(null)\n        }, 5000)\n      })\n    }\n   \n  }\n\n  const handleDelete = (event) => {\n    if (window.confirm(`Deseas borrar a ${event.target.dataset.name}`))\n    {\n      deletePerson(event.target.dataset.id)\n      setPersons(persons.filter(person => person.id !== event.target.dataset.id))\n    }\n  }\n   \n  const handlenNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handlenNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  return (\n    <div className=\"App\">\n      <h2>Phonebook</h2>\n      <Notification classname='success' message={successMsg} />\n      <Notification classname='error' message={errorMsg} />\n      <h3>Filter</h3>\n      <Filter newSearch={newSearch} handleSearchChange={handleSearchChange}/>\n      <h3>Add new</h3>\n      <PersonForm addnewName={addnewName} newName={newName} newNumber={newNumber}\n      handlenNameChange={handlenNameChange} handlenNumberChange={handlenNumberChange} />\n      <h3>Numbers</h3>\n      <Numbers persons={persons} newSearch={newSearch} handleDelete={handleDelete}></Numbers>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}